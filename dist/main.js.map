{"version":3,"file":"main.js","mappings":"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","sources":["webpack://bouncy-bee/./src/scripts/util.js","webpack://bouncy-bee/./src/scripts/moving_object.js","webpack://bouncy-bee/./src/scripts/wasp.js","webpack://bouncy-bee/./src/scripts/flower.js","webpack://bouncy-bee/./src/scripts/bee.js","webpack://bouncy-bee/./src/scripts/beehive.js","webpack://bouncy-bee/./src/scripts/speed_strip.js","webpack://bouncy-bee/./src/scripts/pollen.js","webpack://bouncy-bee/./src/scripts/beehive_sparkle.js","webpack://bouncy-bee/./src/scripts/game.js","webpack://bouncy-bee/./src/scripts/game_view.js","webpack://bouncy-bee/./src/index.js"],"sourcesContent":["export function randomVec(length) {\n  const deg = 2 * Math.PI * Math.random();\n  return scale([Math.sin(deg), Math.cos(deg)], length);\n}\n\nexport function scale(vec, m) {\n  return [vec[0] * m, vec[1] * m];\n}\n\nexport function pointDistance(point1, point2) {\n  return Math.sqrt((point1[0] - point2[0]) ** 2 + (point1[1] - point2[1]) ** 2);\n}\n\nexport function calculateTriangleCoord(originPos, pointerTipPos) {\n  const xDistance = Math.abs(originPos[0] - pointerTipPos[0]);\n  const yDistance = Math.abs(originPos[1] - pointerTipPos[1]);\n  const pointDistance = Math.sqrt(xDistance ** 2 + yDistance ** 2);\n  let knownPointsAngleDeg = (Math.atan(yDistance / xDistance) * 180) / Math.PI;\n  let inverseAngleDeg = 90 - knownPointsAngleDeg;\n  let desiredSharpnessDeg = 30;\n  let pointerLength = pointDistance * 0.2;\n  let newPoints = [];\n  [1, -1].forEach((factor) => {\n    let y =\n      pointerLength *\n      Math.cos(\n        ((inverseAngleDeg + factor * desiredSharpnessDeg) * Math.PI) / 180\n      );\n    let x =\n      pointerLength *\n      Math.sin(\n        ((inverseAngleDeg + factor * desiredSharpnessDeg) * Math.PI) / 180\n      );\n    let xAdj = originPos[0] <= pointerTipPos[0] ? x : -x;\n    let yAdj = originPos[1] <= pointerTipPos[1] ? -y : y;\n    newPoints.push([pointerTipPos[0] - xAdj, pointerTipPos[1] + yAdj]);\n  });\n  return newPoints;\n}\n\nexport function wrap(coord, max) {\n  let x = coord % max;\n  if (x < 0) x += max;\n  return x;\n}\n\nexport function bounce(coord, max, radius) {\n  if (coord < radius) {\n    return radius;\n  } else if (coord > max - radius) {\n    return max - radius;\n  } else {\n    return coord;\n  }\n}\n\nexport function randomPosAroundCenterpoint(centerpoint, distance, correction) {\n  let posRadius = distance * Math.sqrt(Math.random());\n  let angleInRad = Math.random() * 2 * Math.PI;\n  return [\n    centerpoint[0] + posRadius * Math.cos(angleInRad) + correction,\n    centerpoint[1] + posRadius * Math.sin(angleInRad) + correction,\n  ];\n}\n\nexport function generateHexagonPoints(centerpoint, radius) {\n  let points = [];\n  for (let i = 0; i < 6; i++) {\n    let xPos = centerpoint[0] + radius * Math.cos(((2 * Math.PI) / 6) * i);\n    let yPos = centerpoint[1] + radius * Math.sin(((2 * Math.PI) / 6) * i);\n    points.push([xPos, yPos]);\n  }\n  return points;\n}\n","const NORMAL_FRAME_TIME_DELTA = 1000 / 60;\nimport * as Util from \"./util.js\";\n\nclass MovingObject {\n  constructor(options = {}) {\n    this.pos = options.pos;\n    this.vel = options.vel;\n    this.radius = options.radius;\n    this.color = options.color;\n    this.game = options.game;\n    this.isBouncy = options.isBouncy;\n    this.background = options.background;\n  }\n\n  move(timeDelta) {\n    const velocityScale = timeDelta / NORMAL_FRAME_TIME_DELTA,\n      offsetX = this.vel[0] * velocityScale,\n      offsetY = this.vel[1] * velocityScale;\n    let newPos = [this.pos[0] + offsetX, this.pos[1] + offsetY];\n\n    if (this.isBouncy) {\n      let bouncedPos = this.game.bounce(newPos, this.radius);\n      if (bouncedPos[0] !== newPos[0]) {\n        this.vel[0] = -this.vel[0];\n      }\n      if (bouncedPos[1] !== newPos[1]) {\n        this.vel[1] = -this.vel[1];\n      }\n      this.pos = bouncedPos;\n    } else {\n      this.pos = this.game.wrap(newPos);\n    }\n    if (this instanceof Bee) {\n      this.decelerate();\n    }\n    return this.pos;\n  }\n\n  draw(ctx) {\n    ctx.fillStyle = this.color;\n    ctx.beginPath();\n    ctx.arc(this.pos[0], this.pos[1], this.radius, 0, 2 * Math.PI, true);\n    ctx.drawImage(\n      this.background,\n      this.pos[0] - this.radius,\n      this.pos[1] - this.radius,\n      this.radius * 2,\n      this.radius * 2\n    );\n  }\n\n  isCollidedWith(otherObject) {\n    let collisionDistance = this.radius + otherObject.radius;\n    let actualDistance = Util.pointDistance(this.pos, otherObject.pos);\n    return collisionDistance >= actualDistance;\n  }\n\n  remove() {\n    this.game.remove(this);\n  }\n}\n\nexport default MovingObject;\n","import MovingObject from \"./moving_object.js\";\nimport * as Util from \"./util.js\";\n\nclass Wasp extends MovingObject {\n  static RADIUS = 30;\n  static BOUNCY = true;\n  static SPEED = 0.4;\n  static BEE_STING_DISTANCE = 150;\n  static FRAME_HEIGHT = 867;\n  static FRAME_WIDTH = 776;\n\n  static COLOR = \"red\";\n  constructor(options = {}) {\n    super(options);\n    this.color = Wasp.COLOR;\n    this.radius = Wasp.RADIUS;\n    this.vel = Util.randomVec(Wasp.SPEED);\n    this.isBouncy = Wasp.BOUNCY;\n    this.background = document.getElementById(\"wasp\");\n    this.waspFlyLeft = document.getElementById(\"wasp-left-flying\");\n    this.waspFlyRight = document.getElementById(\"wasp-right-flying\");\n    this.waspStingLeft = document.getElementById(\"wasp-left-sting\");\n    this.waspStingRight = document.getElementById(\"wasp-right-sting\");\n    this.spriteFrameCounter = 0;\n  }\n\n  draw(ctx) {\n    let sourcePos = this.pickFrame();\n    let sprite = this.pickSprite();\n\n    ctx.fillStyle = this.color;\n    ctx.beginPath();\n    ctx.arc(this.pos[0], this.pos[1], this.radius, 0, 2 * Math.PI, true);\n    ctx.drawImage(\n      sprite,\n      sourcePos[0],\n      sourcePos[1],\n      Wasp.FRAME_WIDTH,\n      Wasp.FRAME_HEIGHT,\n      this.pos[0] - this.radius,\n      this.pos[1] - this.radius,\n      this.radius * 2 + 10,\n      this.radius * 2 + 10\n    );\n  }\n\n  pickSprite() {\n    if (this.distanceToBee() <= Wasp.BEE_STING_DISTANCE) {\n      if (this.beeToRight()) {\n        return this.waspStingRight;\n      } else {\n        return this.waspStingLeft;\n      }\n    } else {\n      if (this.vel[0] >= 0) {\n        return this.waspFlyRight;\n      } else {\n        return this.waspFlyLeft;\n      }\n    }\n  }\n\n  distanceToBee() {\n    let distance = Util.pointDistance(this.game.bee.pos, this.pos);\n    return distance;\n  }\n\n  beeToRight() {\n    let beeX = this.game.bee.pos[0];\n    return beeX >= this.pos[0];\n  }\n\n  pickFrame() {\n    let stepsPerFrame = 3;\n    let spriteGridDimension = 4;\n    let frameH = 0;\n    let frameW = 0;\n    let rowAnimationLoop = stepsPerFrame * spriteGridDimension;\n    let fullAnimationLoop = stepsPerFrame * spriteGridDimension ** 2;\n\n    let row = Math.floor(this.spriteFrameCounter / rowAnimationLoop);\n    frameH = row * Wasp.FRAME_HEIGHT;\n\n    let column = Math.floor(\n      (this.spriteFrameCounter % rowAnimationLoop) / stepsPerFrame\n    );\n    frameW = column * Wasp.FRAME_WIDTH;\n\n    this.spriteFrameCounter = (this.spriteFrameCounter + 1) % fullAnimationLoop;\n    return [frameW, frameH];\n  }\n}\n\nexport default Wasp;\n","import MovingObject from \"./moving_object\";\n\nclass Flower extends MovingObject {\n  static RADIUS = 40;\n  static COLOR = \"pink\";\n  static VEL = [0, 0];\n  static BOUNCY = false;\n\n  constructor(options = {}) {\n    super();\n    this.color = Flower.COLOR;\n    this.radius = Flower.RADIUS;\n    this.vel = Flower.VEL;\n    this.pos = options.pos;\n    this.game = options.game;\n    this.isBouncy = Flower.BOUNCY;\n    this.background = document.getElementById(\"flower\");\n  }\n}\n\nexport default Flower;\n","import MovingObject from \"./moving_object\";\nimport * as Util from \"./util.js\";\n\nconst CONSTANTS = {\n  NUDGE: 0.2,\n  DECELFACTOR: 0.007,\n  ACCEL: 1.03,\n  START_SCALE: 1,\n  MIN_BEE_LAUNCH_SPEED: 0.75,\n  RETURN_TO_HIVE_VEL: 4,\n  MAX_VEL: 15,\n};\n\nclass Bee extends MovingObject {\n  static RADIUS = 40;\n  static BOUNCY = true;\n  static COLOR = \"yellow\";\n  static START_VEL = [5, 5];\n  static VEL = [0, 0];\n\n  constructor(options = {}) {\n    super(options);\n    this.slide_factor = 0;\n    this.slider_increase = true;\n    this.speed = 0;\n    this.color = Bee.COLOR;\n    this.vel = Bee.VEL;\n    this.isBouncy = Bee.BOUNCY;\n    this.radius = Bee.RADIUS;\n    this.landed = false;\n    this.launched = false;\n    this.caught = false;\n    this.beehiveLand = false;\n    this.pollinating = false;\n    this.beeFrameL0 = document.getElementById(\"bee-left-0\");\n    this.beeFrameL1 = document.getElementById(\"bee-left-1\");\n    this.beeFrameL2 = document.getElementById(\"bee-left-2\");\n    this.beeFrameL3 = document.getElementById(\"bee-left-3\");\n    this.beeFrameR0 = document.getElementById(\"bee-right-0\");\n    this.beeFrameR1 = document.getElementById(\"bee-right-1\");\n    this.beeFrameR2 = document.getElementById(\"bee-right-2\");\n    this.beeFrameR3 = document.getElementById(\"bee-right-3\");\n    this.beeFrameU0 = document.getElementById(\"bee-up-0\");\n    this.beeFrameU1 = document.getElementById(\"bee-up-1\");\n    this.beeFrameU2 = document.getElementById(\"bee-up-2\");\n    this.beeFrameU3 = document.getElementById(\"bee-up-3\");\n    this.beeFrameD0 = document.getElementById(\"bee-down-0\");\n    this.beeFrameD1 = document.getElementById(\"bee-down-1\");\n    this.beeFrameD2 = document.getElementById(\"bee-down-2\");\n    this.beeFrameD3 = document.getElementById(\"bee-down-3\");\n    this.beeLeftFrames = [\n      this.beeFrameL0,\n      this.beeFrameL1,\n      this.beeFrameL2,\n      this.beeFrameL3,\n    ];\n    this.beeRightFrames = [\n      this.beeFrameR0,\n      this.beeFrameR1,\n      this.beeFrameR2,\n      this.beeFrameR3,\n    ];\n    this.beeUpFrames = [\n      this.beeFrameU0,\n      this.beeFrameU1,\n      this.beeFrameU2,\n      this.beeFrameU3,\n    ];\n    this.beeDownFrames = [\n      this.beeFrameD0,\n      this.beeFrameD1,\n      this.beeFrameD2,\n      this.beeFrameD3,\n    ];\n\n    this.animatedBeeTimer = 0;\n    this.framesPerAnimation = 3;\n\n    this.directions = {\n      UP: \"up\",\n      DOWN: \"down\",\n      LEFT: \"left\",\n      RIGHT: \"right\",\n    };\n  }\n\n  landOnBeehive() {\n    this.beehiveLand = true;\n  }\n\n  notLandOnBeehive() {\n    this.beehiveLand = false;\n  }\n\n  notPollinate() {\n    this.pollinating = false;\n  }\n  pollinate() {\n    this.pollinating = true;\n  }\n\n  accelerate() {\n    let largerVel =\n      Math.abs(this.vel[0]) >= Math.abs(this.vel[1])\n        ? this.vel[0]\n        : this.vel[1];\n\n    if (Math.abs(largerVel) * CONSTANTS.ACCEL > CONSTANTS.MAX_VEL) {\n      let scaleFactor = CONSTANTS.MAX_VEL / Math.abs(largerVel);\n      if (largerVel === this.vel[0]) {\n        this.vel[0] = this.vel[0] > 0 ? CONSTANTS.MAX_VEL : -CONSTANTS.MAX_VEL;\n        this.vel[1] *= scaleFactor;\n      } else {\n        this.vel[1] = this.vel[1] > 0 ? CONSTANTS.MAX_VEL : -CONSTANTS.MAX_VEL;\n        this.vel[0] *= scaleFactor;\n      }\n    } else {\n      this.vel[0] *= CONSTANTS.ACCEL;\n      this.vel[1] *= CONSTANTS.ACCEL;\n    }\n    this.game.speedStrips.forEach((speedStrip) => {\n      speedStrip.press();\n    });\n  }\n\n  decelerate() {\n    this.vel.forEach((velocity, i) => {\n      if (velocity === 0 || Math.abs(velocity) < CONSTANTS.DECELFACTOR) {\n        this.vel[i] = 0;\n      } else if (velocity < 0) {\n        this.vel[i] += CONSTANTS.DECELFACTOR;\n      } else {\n        this.vel[i] -= CONSTANTS.DECELFACTOR;\n      }\n    });\n    if (\n      Math.abs(this.vel[0]) + Math.abs(this.vel[1]) <= CONSTANTS.DECELFACTOR &&\n      this.launched\n    ) {\n      this.vel = [0, 0];\n      this.landed = true;\n    }\n    if (\n      Math.abs(this.vel[0]) + Math.abs(this.vel[1]) <=\n        CONSTANTS.RETURN_TO_HIVE_VEL &&\n      this.launched\n    ) {\n      this.game.beehiveSparkles.push(this.game.addBeehiveSparkles());\n    }\n  }\n\n  setTrajectory(direction) {\n    let nudgeFactor = 0;\n    if (direction === this.directions.UP) {\n      nudgeFactor = CONSTANTS.NUDGE;\n    } else if (direction === this.directions.DOWN) {\n      nudgeFactor = -CONSTANTS.NUDGE;\n    }\n    const cosA = Math.cos(nudgeFactor);\n    const sinA = Math.sin(nudgeFactor);\n    const newX = Bee.START_VEL[0] * cosA + Bee.START_VEL[1] * sinA;\n    const newY = -Bee.START_VEL[0] * sinA + Bee.START_VEL[1] * cosA;\n    Bee.START_VEL = [newX, newY];\n  }\n\n  drawTrajectory(ctx) {\n    let pointerDist = 15;\n    let pointerDirection = [\n      this.pos[0] + Bee.START_VEL[0] * pointerDist,\n      this.pos[1] + Bee.START_VEL[1] * pointerDist,\n    ];\n    let arrowPoints = Util.calculateTriangleCoord(this.pos, pointerDirection);\n\n    ctx.beginPath();\n    ctx.moveTo(pointerDirection[0], pointerDirection[1]);\n    ctx.lineTo(arrowPoints[0][0], arrowPoints[0][1]);\n    ctx.lineTo(arrowPoints[1][0], arrowPoints[1][1]);\n    ctx.closePath();\n    ctx.fillStyle = \"gold\";\n    ctx.fill();\n  }\n\n  slideScale() {\n    let slideStep = 0.01;\n    if (this.slide_factor > 1) {\n      this.slider_increase = false;\n    }\n    if (this.slide_factor < 0) {\n      this.slider_increase = true;\n    }\n    if (this.slider_increase) {\n      this.slide_factor += slideStep;\n    } else {\n      this.slide_factor -= slideStep;\n    }\n    this.speed =\n      CONSTANTS.START_SCALE * this.slide_factor +\n      CONSTANTS.MIN_BEE_LAUNCH_SPEED;\n  }\n\n  drawScale(ctx) {\n    let slider = 100 * this.slide_factor;\n    ctx.fillStyle = \"gold\";\n    let sliderLocation = [20, 380];\n    let sliderSizeScale = 1.2;\n    let sliderH = 10;\n    ctx.rect(\n      sliderLocation[0],\n      sliderLocation[1],\n      Math.floor(slider) * sliderSizeScale,\n      sliderH\n    );\n    ctx.fill();\n  }\n\n  launch() {\n    this.vel = Util.scale(Bee.START_VEL, this.speed);\n    this.launched = true;\n  }\n\n  nudge(direction) {\n    let nudgeFactor = 0;\n    if (direction === this.directions.LEFT) {\n      nudgeFactor = CONSTANTS.NUDGE;\n    } else if (direction === this.directions.RIGHT) {\n      nudgeFactor = -CONSTANTS.NUDGE;\n    }\n    const cosA = Math.cos(nudgeFactor);\n    const sinA = Math.sin(nudgeFactor);\n    const newX = this.vel[0] * cosA + this.vel[1] * sinA;\n    const newY = -this.vel[0] * sinA + this.vel[1] * cosA;\n    this.vel = [newX, newY];\n  }\n\n  capture() {\n    this.caught = true;\n  }\n\n  drawAnimatedBee(ctx) {\n    let offset = 5;\n    ctx.drawImage(\n      this.pickFrame(),\n      this.pos[0] - Bee.RADIUS,\n      this.pos[1] - Bee.RADIUS - offset,\n      Bee.RADIUS * 2,\n      Bee.RADIUS * 2\n    );\n    this.animatedBeeTimer =\n      (this.animatedBeeTimer + 1) %\n      (this.beeRightFrames.length * this.framesPerAnimation);\n  }\n\n  pickFrame() {\n    let animationSequence = this.beeRightFrames;\n    let beeFrameIdx = Math.floor(\n      this.animatedBeeTimer / this.framesPerAnimation\n    );\n    let beeDirection = this.beeDirection();\n    let mapping = {\n      right: this.beeRightFrames,\n      left: this.beeLeftFrames,\n      up: this.beeUpFrames,\n      down: this.beeDownFrames,\n    };\n    animationSequence = mapping[beeDirection];\n\n    return animationSequence[beeFrameIdx];\n  }\n\n  beeDirection() {\n    let velocityPreLaunch = this.launched ? this.vel : Bee.START_VEL;\n\n    if (Math.abs(velocityPreLaunch[0]) >= Math.abs(velocityPreLaunch[1])) {\n      if (velocityPreLaunch[0] >= 0) {\n        return this.directions.RIGHT;\n      } else {\n        return this.directions.LEFT;\n      }\n    } else {\n      if (velocityPreLaunch[1] <= 0) {\n        return this.directions.UP;\n      } else {\n        return this.directions.DOWN;\n      }\n    }\n  }\n}\n\nexport default Bee;\n","import MovingObject from \"./moving_object\";\n\nclass Beehive extends MovingObject {\n  static RADIUS = 80;\n  static COLOR = \"white\";\n  static VEL = [0, 0];\n  static POS = [80, 300];\n  static BOUNCY = false;\n\n  constructor(options = {}) {\n    super();\n    this.color = Beehive.COLOR;\n    this.radius = Beehive.RADIUS;\n    this.vel = Beehive.VEL;\n    this.pos = Beehive.POS;\n    this.game = options.game;\n    this.isBouncy = Beehive.BOUNCY;\n    this.background = document.getElementById(\"beehive\");\n  }\n}\n\nexport default Beehive;\n","import MovingObject from \"./moving_object\";\n\nclass SpeedStrip extends MovingObject {\n  static RADIUS = 30;\n  static COLOR = \"black\";\n  static VEL = [0, 0];\n  static BOUNCY = false;\n\n  constructor(options = {}) {\n    super();\n    this.color = SpeedStrip.COLOR;\n    this.radius = SpeedStrip.RADIUS;\n    this.vel = SpeedStrip.VEL;\n    this.pos = options.pos;\n    this.game = options.game;\n    this.isBouncy = SpeedStrip.BOUNCY;\n    this.background = document.getElementById(\"speedstrip\");\n  }\n\n  press() {\n    this.background = document.getElementById(\"speedstrip-pressed\");\n  }\n\n  unpress() {\n    this.background = document.getElementById(\"speedstrip\");\n  }\n}\nexport default SpeedStrip;\n","import * as Util from \"./util.js\";\n\nconst CONSTANTS = {\n  RAND_COLORS: [\n    \"#FF6633\",\n    \"#FFB399\",\n    \"#FF33FF\",\n    \"#FFFF99\",\n    \"#00B3E6\",\n    \"#E6B333\",\n    \"#3366E6\",\n    \"#999966\",\n    \"#99FF99\",\n    \"#B34D4D\",\n    \"#80B300\",\n    \"#809900\",\n    \"#E6B3B3\",\n    \"#6680B3\",\n    \"#66991A\",\n    \"#FF99E6\",\n    \"#CCFF1A\",\n    \"#FF1A66\",\n    \"#E6331A\",\n    \"#33FFCC\",\n    \"#66994D\",\n    \"#B366CC\",\n    \"#4D8000\",\n    \"#B33300\",\n    \"#CC80CC\",\n    \"#66664D\",\n    \"#991AFF\",\n    \"#E666FF\",\n    \"#4DB3FF\",\n    \"#1AB399\",\n    \"#E666B3\",\n    \"#33991A\",\n    \"#CC9999\",\n    \"#B3B31A\",\n    \"#00E680\",\n    \"#4D8066\",\n    \"#809980\",\n    \"#E6FF80\",\n    \"#1AFF33\",\n    \"#999933\",\n    \"#FF3380\",\n    \"#CCCC00\",\n    \"#66E64D\",\n    \"#4D80CC\",\n    \"#9900B3\",\n    \"#E64D66\",\n    \"#4DB380\",\n    \"#FF4D4D\",\n    \"#99E6E6\",\n    \"#6666FF\",\n  ],\n  POLLEN_DIST: 50,\n};\n\nclass Pollen {\n  static RADIUS = 10;\n  static PERSISTENCE = 15;\n\n  constructor(options = {}) {\n    let randomColorIdx = Math.floor(\n      Math.random() * CONSTANTS.RAND_COLORS.length\n    );\n    this.color = CONSTANTS.RAND_COLORS[randomColorIdx];\n    this.game = options.game;\n    this.pollenTimer = 0;\n    this.pollenPosition = this.pollenPos();\n    this.points = Util.generateHexagonPoints(\n      this.pollenPosition,\n      Pollen.RADIUS\n    );\n  }\n\n  drawPollen(ctx) {\n    if (this.pollenTimer > Pollen.PERSISTENCE) {\n      this.game.remove(this);\n    }\n\n    ctx.fillStyle = this.color;\n    ctx.beginPath();\n    this.points.forEach((pos) => {\n      ctx.lineTo(pos[0], pos[1]);\n    });\n    ctx.closePath();\n    ctx.fill();\n\n    this.pollenTimer += 1;\n  }\n\n  pollenPos() {\n    let posCorrection = 0;\n    return Util.randomPosAroundCenterpoint(\n      this.game.bee.pos,\n      CONSTANTS.POLLEN_DIST,\n      posCorrection\n    );\n  }\n}\n\nexport default Pollen;\n","import * as Util from \"./util.js\";\n\nconst CONSTANTS = {\n  RAND_COLORS: [\"#ffff4b\", \"#ffff01\", \"#ffffb9\", \"#ffffff\"],\n  SPARKLE_DIST: 100,\n};\n\nclass BeehiveSparkle {\n  static RADIUS = 7;\n  static PERSISTENCE = 30;\n\n  constructor(options = {}) {\n    let randomColorIdx = Math.floor(\n      Math.random() * CONSTANTS.RAND_COLORS.length\n    );\n    this.color = CONSTANTS.RAND_COLORS[randomColorIdx];\n    this.game = options.game;\n    this.sparkleTimer = 0;\n    this.sparklePosition = this.sparklePos();\n    this.points = Util.generateHexagonPoints(\n      this.sparklePosition,\n      BeehiveSparkle.RADIUS\n    );\n  }\n\n  drawSparkle(ctx) {\n    if (this.sparkleTimer > BeehiveSparkle.PERSISTENCE) {\n      this.game.remove(this);\n    }\n\n    ctx.fillStyle = this.color;\n    ctx.beginPath();\n    this.points.forEach((pos) => {\n      ctx.lineTo(pos[0], pos[1]);\n    });\n    ctx.closePath();\n    ctx.fill();\n\n    this.sparkleTimer += 1;\n  }\n\n  sparklePos() {\n    let posCorrection = 0;\n    return Util.randomPosAroundCenterpoint(\n      this.game.beehive.pos,\n      CONSTANTS.SPARKLE_DIST,\n      posCorrection\n    );\n  }\n}\n\nexport default BeehiveSparkle;\n","import Wasp from \"./wasp.js\";\nimport Flower from \"./flower.js\";\nimport Bee from \"./bee.js\";\nimport Beehive from \"./beehive.js\";\nimport SpeedStrip from \"./speed_strip\";\nimport Pollen from \"./pollen.js\";\nimport BeehiveSparkle from \"./beehive_sparkle.js\";\nimport * as Util from \"./util.js\";\n\nconst CONSTANTS = {\n  BEEHIVEBONUS: 100,\n  FLOWERPOINT: 1,\n  EMPTY_REGION: 0.15,\n  MIN_EDGE_DISTANCE: 40,\n  WASP_LOCATION_ADJ: 0.35,\n};\n\nclass Game {\n  static DIM_X = 1200;\n  static DIM_Y = 600;\n\n  static NUM_WASPS = 3;\n  static NUM_FLOWERS = 15;\n  static NUM_SPEEDSTRIPS = 1;\n\n  constructor(options) {\n    this.xDim = options.xDim;\n    this.yDim = options.yDim;\n    this.score = 0;\n    this.nonOverlapPos = this.generateNonOverlapPos();\n    this.wasps = [];\n    this.flowers = [];\n    this.speedStrips = [];\n    this.pollens = [];\n    this.beehiveSparkles = [];\n    this.bee = this.addBee();\n    this.beehive = this.addBeehive();\n    this.background = document.getElementById(\"grass\");\n    while (this.wasps.length < Game.NUM_WASPS) {\n      this.wasps.push(this.addWasps());\n    }\n    this.addFlowers();\n    this.addSpeedStrips();\n    this.health = 100;\n    this.waspAttackPoints = -1.5;\n    this.flowerHealthPoints = 0.05;\n    this.beehiveHealthPoints = 0.1;\n  }\n\n  draw(ctx) {\n    ctx.clearRect(0, 0, this.xDim, this.yDim);\n    const pattern = ctx.createPattern(this.background, \"repeat\");\n    ctx.fillStyle = pattern;\n    ctx.fillRect(0, 0, this.xDim, this.yDim);\n    this.flowers.forEach((flower) => flower.draw(ctx));\n    this.beehive.draw(ctx);\n    this.beehiveSparkles.forEach((sparkle) => sparkle.drawSparkle(ctx));\n    this.speedStrips.forEach((speedStrip) => {\n      speedStrip.draw(ctx);\n    });\n    this.wasps.forEach((wasp) => wasp.draw(ctx));\n    this.drawHealth(ctx);\n    this.bee.drawAnimatedBee(ctx);\n    this.pollens.forEach((pollen) => pollen.drawPollen(ctx));\n    if (!this.bee.launched) {\n      this.bee.drawTrajectory(ctx);\n      this.bee.drawScale(ctx);\n    }\n  }\n\n  moveObjects(timeDelta) {\n    this.wasps.forEach((wasp) => wasp.move(timeDelta));\n    this.bee.move(timeDelta);\n  }\n\n  wrap(pos) {\n    return [Util.wrap(pos[0], this.xDim), Util.wrap(pos[1], this.yDim)];\n  }\n\n  bounce(pos, radius) {\n    return [\n      Util.bounce(pos[0], this.xDim, radius),\n      Util.bounce(pos[1], this.yDim, radius),\n    ];\n  }\n\n  step(timeDelta) {\n    this.moveObjects(timeDelta);\n    this.checkCollisions();\n    if (!this.bee.launched) this.bee.slideScale();\n  }\n\n  allNonBeeObjects() {\n    return [].concat(\n      this.flowers,\n      [this.beehive],\n      this.speedStrips,\n      this.wasps\n    );\n  }\n\n  checkCollisions() {\n    let allNonBeeObjects = this.allNonBeeObjects();\n    this.bee.notPollinate();\n    this.speedStrips.forEach((speedStrip) => {\n      speedStrip.unpress();\n    });\n    for (let i = 0; i < allNonBeeObjects.length; i++) {\n      const object = allNonBeeObjects[i];\n\n      if (object.isCollidedWith(this.bee)) {\n        if (object instanceof Wasp) {\n          this.updateHealth(this.waspAttackPoints);\n        }\n        if (object instanceof Flower) {\n          this.addPoints();\n          this.updateHealth(this.flowerHealthPoints);\n          this.bee.pollinate();\n          this.pollens.push(this.addPollens());\n        }\n        if (object instanceof SpeedStrip) {\n          this.bee.accelerate();\n          object.press();\n        }\n        if (object instanceof Beehive && this.bee.landed) {\n          this.bee.landOnBeehive();\n        }\n        if (\n          object instanceof Beehive &&\n          !this.bee.landed &&\n          this.bee.launched\n        ) {\n          this.addPoints(this.beehiveHealthPoints);\n        }\n      }\n    }\n  }\n\n  addPoints() {\n    if (this.bee.caught) this.score = 0;\n    if (this.bee.landed && this.beehive.isCollidedWith(this.bee))\n      this.score += CONSTANTS.BEEHIVEBONUS;\n    if (!this.gameOver()) this.score += CONSTANTS.FLOWERPOINT;\n  }\n\n  gameOver() {\n    return this.bee.landed || this.bee.caught;\n  }\n\n  addWasps() {\n    return new Wasp({ pos: this.randomPosition(true), game: this });\n  }\n\n  addFlowers() {\n    let positions = this.nonOverlapPos.slice(Game.NUM_SPEEDSTRIPS);\n    positions.forEach((pos) => {\n      let newFlower = new Flower({ pos: pos, game: this });\n      this.flowers.push(newFlower);\n    });\n  }\n\n  addPollens() {\n    return new Pollen({ game: this });\n  }\n\n  addBeehiveSparkles() {\n    return new BeehiveSparkle({ game: this });\n  }\n\n  addBeehive() {\n    return new Beehive({\n      pos: [80, this.yDim * 0.5],\n      game: this,\n    });\n  }\n\n  addSpeedStrips() {\n    let positions = this.nonOverlapPos.slice(0, Game.NUM_SPEEDSTRIPS);\n    positions.forEach((pos) => {\n      let newSpeedStrip = new SpeedStrip({ pos: pos, game: this });\n      this.speedStrips.push(newSpeedStrip);\n    });\n  }\n\n  addBee() {\n    return new Bee({ pos: [80, this.yDim * 0.5], game: this });\n  }\n\n  randomPosition(waspFlag) {\n    let waspAdj = 0;\n    if (waspFlag === true) {\n      waspAdj = CONSTANTS.WASP_LOCATION_ADJ;\n    }\n    let randomPos = [\n      Math.floor(\n        Math.random() * ((1 - CONSTANTS.EMPTY_REGION - waspAdj) * this.xDim) +\n          (CONSTANTS.EMPTY_REGION + waspAdj) * this.xDim\n      ),\n      Math.floor(Math.random() * this.yDim),\n    ];\n    randomPos.forEach((coord, i) => {\n      if (coord < CONSTANTS.MIN_EDGE_DISTANCE) {\n        randomPos[i] += CONSTANTS.MIN_EDGE_DISTANCE;\n      }\n      if (\n        (i === 0 && coord > this.xDim - CONSTANTS.MIN_EDGE_DISTANCE) ||\n        (i === 1 && coord > this.yDim - CONSTANTS.MIN_EDGE_DISTANCE)\n      ) {\n        {\n          randomPos[i] -= CONSTANTS.MIN_EDGE_DISTANCE;\n        }\n      }\n    });\n    return randomPos;\n  }\n\n  generateNonOverlapPos() {\n    const positions = [];\n    const minDistance = Game.NUM_FLOWERS + Game.NUM_SPEEDSTRIPS < 25 ? 80 : 0;\n    if (minDistance === 0) {\n      console.log(\n        \"Number of flowers and/or speed strips exceeds safe limits for game screen size. Non-crowding is no longer enforced.\"\n      );\n    }\n    while (positions.length < Game.NUM_FLOWERS + Game.NUM_SPEEDSTRIPS) {\n      const newPos = this.randomPosition();\n      let spreadOut = true;\n      for (let i = 0; i < positions.length; i++) {\n        if (Util.pointDistance(newPos, positions[i]) < minDistance) {\n          spreadOut = false;\n          break;\n        }\n      }\n      if (spreadOut) positions.push(newPos);\n    }\n    return positions;\n  }\n\n  remove(object) {\n    if (object instanceof Wasp) {\n      this.wasps.splice(this.wasps.indexOf(object), 1);\n    }\n    if (object instanceof Pollen) {\n      this.pollens.splice(this.pollens.indexOf(object), 1);\n    }\n    if (object instanceof BeehiveSparkle) {\n      this.beehiveSparkles.splice(this.beehiveSparkles.indexOf(object), 1);\n    }\n  }\n\n  updateHealth(points) {\n    this.health += points;\n    if (this.health <= 0) {\n      this.bee.capture();\n    } else if (this.health > 100) {\n      this.health = 100;\n    }\n  }\n\n  drawHealth(ctx) {\n    let score = Math.ceil(this.health);\n    const scoreTitlePos = [10, 100];\n    ctx.font = \"35pt Delicious Handrawn\";\n\n    let color;\n    switch (true) {\n      case score < 20:\n        color = \"DarkRed\";\n        break;\n      case score < 40:\n        color = \"orange\";\n        break;\n      case score < 60:\n        color = \"Gold\";\n        break;\n      case score < 80:\n        color = \"LawnGreen\";\n        break;\n      default:\n        color = \"DarkGreen\";\n        break;\n    }\n    ctx.fillStyle = color;\n\n    ctx.fillText(` ${score}%`, scoreTitlePos[0], scoreTitlePos[1]);\n    ctx.strokeStyle = \"black\";\n    ctx.lineWidth = 1;\n    ctx.strokeText(` ${score}%`, scoreTitlePos[0], scoreTitlePos[1]);\n  }\n}\n\nexport default Game;\n","import Game from \"./game.js\";\n\nconst CONSTANTS = {\n  LINE_SPACING: 100,\n  LOSE_MSG: [\n    \"Bee-tter luck next time!\",\n    \"Looks like you got stung with a loss!\",\n    \"Bee-ginning of success is not here!\",\n    \"Not the bee's knees this time!\",\n    \"Sorry, you didn't make the buzz this time.\",\n    \"You got swatted like a fly and lost!\",\n    \"Bee-ware, losing is a sticky situation!\",\n    \"Wasp that a loss? Yes it wasp!\",\n  ],\n  WIN_MSG: [\n    \"Bee-autiful work!\",\n    \"Buzzing with excitement, you're the winner!\",\n    \"You earned your stripes like a bee and won!\",\n    \"You're as busy as a bee and just as successful!\",\n    \"Buzz-tastic!\",\n    \"Hive five for a job well done!\",\n    \"Buzz-tacular effort!\",\n    \"You've stung the competition and emerged a winner!\",\n    \"Wasp that a WIN? Yes it wasp!\",\n  ],\n};\n\nclass GameView {\n  static CANVAS_DIM_X = 1200;\n  static CANVAS_DIM_Y = 600;\n\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.announcementR = document.getElementById(\"announcement-red\");\n    this.announcementW = document.getElementById(\"announcement-white\");\n    this.announcementG = document.getElementById(\"announcement-green\");\n    this.wasp1 = document.getElementById(\"wasp-left-flying\");\n    this.wasp2 = document.getElementById(\"wasp-left-sting\");\n    this.flower = document.getElementById(\"flower-med\");\n    this.beehive = document.getElementById(\"beehive\");\n    this.launchMechanic = document.getElementById(\"launch-mechanic\");\n    this.flyMechanic = document.getElementById(\"fly-mechanic\");\n    this.highScore = 0;\n    this.bindKeyHandlers();\n    this.directions = {\n      UP: \"up\",\n      DOWN: \"down\",\n      LEFT: \"left\",\n      RIGHT: \"right\",\n    };\n    this.messageType = {\n      WIN: \"win\",\n      LOSE: \"lose\",\n    };\n  }\n\n  bindKeyHandlers() {\n    key(\"i\", () => {\n      this.iKeyHandler();\n    });\n    key(\"w\", () => {\n      this.wKeyHandler();\n    });\n    key(\"s\", () => {\n      this.sKeyHandler();\n    });\n    key(\"space\", () => {\n      this.spaceKeyHandler();\n    });\n    key(\"a\", () => {\n      this.aKeyHandler();\n    });\n    key(\"d\", () => {\n      this.dKeyHandler();\n    });\n    key(\"up\", () => {\n      this.wKeyHandler();\n    });\n    key(\"down\", () => {\n      this.sKeyHandler();\n    });\n    key(\"right\", () => {\n      this.dKeyHandler();\n    });\n    key(\"left\", () => {\n      this.aKeyHandler();\n    });\n  }\n\n  spaceKeyHandler() {\n    if (this.game && !this.game.bee.launched) {\n      this.game.bee.launch();\n    }\n  }\n\n  aKeyHandler() {\n    let nudgeDirection = {\n      up: \"left\",\n      down: \"right\",\n      left: \"\",\n      right: \"\",\n    };\n    let beeDirection = this.game.bee.beeDirection();\n    if (this.game.bee.launched) {\n      this.game.bee.nudge(nudgeDirection[beeDirection]);\n    } else if (!this.game.bee.launched) {\n      this.game.bee.setTrajectory(this.directions.UP);\n    }\n  }\n\n  wKeyHandler() {\n    let nudgeDirection = {\n      up: \"\",\n      down: \"\",\n      left: \"right\",\n      right: \"left\",\n    };\n    let beeDirection = this.game.bee.beeDirection();\n\n    if (this.game.bee.launched) {\n      this.game.bee.nudge(nudgeDirection[beeDirection]);\n    } else if (!this.game.bee.launched) {\n      this.game.bee.setTrajectory(this.directions.UP);\n    }\n  }\n\n  sKeyHandler() {\n    let nudgeDirection = {\n      up: \"\",\n      down: \"\",\n      left: \"left\",\n      right: \"right\",\n    };\n    let beeDirection = this.game.bee.beeDirection();\n\n    if (this.game.bee.launched) {\n      this.game.bee.nudge(nudgeDirection[beeDirection]);\n    } else if (!this.game.bee.launched) {\n      this.game.bee.setTrajectory(this.directions.DOWN);\n    }\n  }\n\n  dKeyHandler() {\n    let nudgeDirection = {\n      up: \"right\",\n      down: \"left\",\n      left: \"\",\n      right: \"\",\n    };\n    let beeDirection = this.game.bee.beeDirection();\n\n    if (this.game.bee.launched) {\n      this.game.bee.nudge(nudgeDirection[beeDirection]);\n    } else if (!this.game.bee.launched) {\n      this.game.bee.setTrajectory(this.directions.DOWN);\n    }\n  }\n\n  iKeyHandler() {\n    if (this.running) {\n      this.pause();\n      this.drawInstructions();\n    } else {\n      this.play(this.lastTime);\n    }\n  }\n\n  restart() {\n    this.running = false;\n    this.score = 0;\n    this.lastTime = 0;\n    if (this.animationFrameId) {\n      cancelAnimationFrame(this.animationFrameId);\n    }\n    this.game = new Game({\n      xDim: GameView.CANVAS_DIM_X,\n      yDim: GameView.CANVAS_DIM_Y,\n    });\n    this.play(this.lastTime);\n  }\n\n  play(time) {\n    this.running = true;\n    this.animate(time);\n  }\n\n  pause() {\n    this.running = false;\n    this.animate(this.lastTime);\n  }\n\n  animate(time) {\n    if (this.running) {\n      if (this.lastTime === undefined) {\n        this.lastTime = time;\n      }\n      const timeDelta = time - this.lastTime;\n      this.game.step(timeDelta);\n      this.game.draw(this.ctx);\n      this.drawScore();\n    } else {\n      this.drawInstructions();\n      if (this.animationFrameId) {\n        cancelAnimationFrame(this.animationFrameId);\n      }\n    }\n\n    if (!this.game.gameOver()) {\n      this.animationFrameId = requestAnimationFrame(this.animate.bind(this));\n    } else {\n      if (this.game.bee.caught) {\n        this.tallyPoints();\n        this.drawLosePage();\n      } else {\n        this.tallyPoints();\n        this.drawWinPage();\n      }\n    }\n    this.lastTime = time;\n  }\n\n  tallyPoints() {\n    this.game.addPoints();\n    this.highScore = Math.max(this.highScore, this.game.score);\n    document.getElementById(\n      \"score-banner\"\n    ).innerHTML = `Your top score: ${this.highScore}`;\n  }\n\n  drawScore() {\n    const scorePos = [10, 50];\n    this.ctx.font = \"40pt Delicious Handrawn\";\n    this.ctx.fillStyle = \"yellow\";\n    this.ctx.fillText(`Score: ${this.game.score}`, scorePos[0], scorePos[1]);\n  }\n\n  drawWinPage() {\n    this.ctx.clearRect(0, 0, GameView.CANVAS_DIM_X, GameView.CANVAS_DIM_Y);\n    const pattern = this.ctx.createPattern(this.announcementG, \"repeat\");\n    this.ctx.fillStyle = pattern;\n    this.ctx.fillRect(0, 0, GameView.CANVAS_DIM_X, GameView.CANVAS_DIM_Y);\n    const messagePos = [40, 220];\n    this.ctx.font = \"35pt Delicious Handrawn\";\n    this.ctx.fillStyle = \"black\";\n\n    let message = this.message(this.messageType.WIN);\n    let winMessage =\n      this.game.score > 0 ? message : \"You avoided wasps, but got 0 points :(\";\n    let beeLandMsg = this.game.bee.beehiveLand\n      ? \"You landed on the beehive - score!\"\n      : \"\";\n\n    this.ctx.fillText(winMessage, messagePos[0], messagePos[1]);\n    this.ctx.fillText(\n      `Score: ${this.game.score}! ${beeLandMsg}`,\n      messagePos[0],\n      messagePos[1] + CONSTANTS.LINE_SPACING\n    );\n\n    let scoreMessage =\n      this.game.score === this.highScore && this.game.score !== 0\n        ? \"That's a new high score!\"\n        : \"\";\n    this.ctx.fillText(\n      scoreMessage,\n      messagePos[0],\n      messagePos[1] + 2 * CONSTANTS.LINE_SPACING\n    );\n\n    this.ctx.drawImage(this.game.bee.beeFrameL0, 700, 150);\n  }\n\n  drawLosePage() {\n    this.ctx.clearRect(0, 0, GameView.CANVAS_DIM_X, GameView.CANVAS_DIM_Y);\n    const pattern = this.ctx.createPattern(this.announcementR, \"repeat\");\n    this.ctx.fillStyle = pattern;\n    this.ctx.fillRect(0, 0, GameView.CANVAS_DIM_X, GameView.CANVAS_DIM_Y);\n    const messagePos = [40, 80];\n    this.ctx.font = \"30pt Delicious Handrawn\";\n    this.ctx.fillStyle = \"yellow\";\n    this.ctx.fillText(\"The wasps caught you!\", messagePos[0], messagePos[1]);\n    let message = this.message(this.messageType.LOSE);\n    this.ctx.fillText(\n      message,\n      messagePos[0],\n      messagePos[1] + CONSTANTS.LINE_SPACING\n    );\n\n    let waspSize = 500;\n    this.ctx.drawImage(\n      this.wasp1,\n      0,\n      0,\n      776,\n      867,\n      700,\n      100,\n      (waspSize / 867) * 776,\n      waspSize\n    );\n\n    this.ctx.fillText(\n      \"PRESS and HOLD the keys to control the bee!\",\n      messagePos[0],\n      messagePos[1] + 2 * CONSTANTS.LINE_SPACING\n    );\n    this.ctx.drawImage(this.flyMechanic, messagePos[0], 325, 320, 240);\n  }\n\n  message(type) {\n    let messages =\n      type === this.messageType.WIN ? CONSTANTS.WIN_MSG : CONSTANTS.LOSE_MSG;\n    let idx = Math.floor(Math.random() * messages.length);\n    return messages[idx];\n  }\n\n  drawInstructions() {\n    this.ctx.clearRect(0, 0, GameView.CANVAS_DIM_X, GameView.CANVAS_DIM_Y);\n    const pattern = this.ctx.createPattern(this.announcementW, \"repeat\");\n    this.ctx.fillStyle = pattern || \"yellow\";\n    this.ctx.fillRect(0, 0, GameView.CANVAS_DIM_X, GameView.CANVAS_DIM_Y);\n    const messagePos = [40, 100];\n    this.ctx.font = \"25pt Delicious Handrawn\";\n    this.ctx.fillStyle = \"black\";\n    this.ctx.fillText(\n      \"Help Bouncy Bee collect the most nectar!\",\n      messagePos[0],\n      messagePos[1]\n    );\n    this.ctx.fillText(\n      \"Launch Bouncy Bee like a cannon AND nudge it as it flies. Try to:\",\n      messagePos[0] + 60,\n      messagePos[1] + 100\n    );\n    this.ctx.fillText(\n      \"1. Visit the most flowers - they give you points and health\",\n      messagePos[0] + CONSTANTS.LINE_SPACING,\n      messagePos[1] + CONSTANTS.LINE_SPACING * 2\n    );\n    this.ctx.fillText(\n      \"2. Avoid the wasps!!!\",\n      messagePos[0] + CONSTANTS.LINE_SPACING,\n      messagePos[1] + CONSTANTS.LINE_SPACING * 3\n    );\n    this.ctx.fillText(\n      \"3. Land (slide to a stop) on the beehive for extra points\",\n      messagePos[0] + CONSTANTS.LINE_SPACING,\n      messagePos[1] + CONSTANTS.LINE_SPACING * 4\n    );\n\n    this.ctx.drawImage(this.launchMechanic, 860, 0, 340, 340);\n    this.ctx.drawImage(this.flyMechanic, 860, 350, 340, 250);\n  }\n\n  drawWaitPage() {\n    this.ctx.clearRect(0, 0, GameView.CANVAS_DIM_X, GameView.CANVAS_DIM_Y);\n    this.ctx.fillStyle = \"yellow\";\n    this.ctx.fillRect(0, 0, GameView.CANVAS_DIM_X, GameView.CANVAS_DIM_Y);\n  }\n\n  startGame() {\n    let welcomeScreen = document.getElementById(\"welcome-screen\");\n    welcomeScreen.classList.add(\"hidden\");\n    let gameScreen = document.getElementById(\"game-canvas\");\n    gameScreen.classList.remove(\"hidden\");\n    this.restart();\n  }\n}\n\nexport default GameView;\n","import MovingObject from \"../src/scripts/moving_object.js\";\nwindow.MovingObject = MovingObject;\n\nimport GameView from \"../src/scripts/game_view.js\";\nwindow.GameView = GameView;\n\nimport Game from \"../src/scripts/game.js\";\nwindow.Game = Game;\n\nimport Bee from \"../src/scripts/bee.js\";\nwindow.Bee = Bee;\n\nimport Wasp from \"../src/scripts/wasp.js\";\nwindow.Wasp = Wasp;\n\nimport Flower from \"../src/scripts/flower.js\";\nwindow.Flower = Flower;\n\nimport Beehive from \"../src/scripts/beehive.js\";\nwindow.Beehive = Beehive;\n\nimport SpeedStrip from \"../src/scripts/speed_strip\";\nwindow.SpeedStrip = SpeedStrip;\n\nlet boardbg = document.createElement(\"img\");\nboardbg.src = \"assets/grass_smallest.jpeg\";\nboardbg.setAttribute(\"id\", \"grass\");\nboardbg.classList.add(\"hidden\");\ndocument.querySelector(\"body\").appendChild(boardbg);\n\nlet flowerImg = document.createElement(\"img\");\nflowerImg.src = \"assets/flower_small.png\";\nflowerImg.setAttribute(\"id\", \"flower\");\nflowerImg.classList.add(\"hidden\");\ndocument.querySelector(\"body\").appendChild(flowerImg);\n\nlet flowerMImg = document.createElement(\"img\");\nflowerMImg.src = \"assets/flower_med.png\";\nflowerMImg.setAttribute(\"id\", \"flower-med\");\nflowerMImg.classList.add(\"hidden\");\ndocument.querySelector(\"body\").appendChild(flowerMImg);\n\nlet speedstripImg = document.createElement(\"img\");\nspeedstripImg.src = \"assets/speed_small.png\";\nspeedstripImg.setAttribute(\"id\", \"speedstrip\");\nspeedstripImg.classList.add(\"hidden\");\ndocument.querySelector(\"body\").appendChild(speedstripImg);\n\nlet speedstripPressedImg = document.createElement(\"img\");\nspeedstripPressedImg.src = \"assets/speed_small_pressed.png\";\nspeedstripPressedImg.setAttribute(\"id\", \"speedstrip-pressed\");\nspeedstripPressedImg.classList.add(\"hidden\");\ndocument.querySelector(\"body\").appendChild(speedstripPressedImg);\n\nlet beehiveImg = document.createElement(\"img\");\nbeehiveImg.src = \"assets/beehive_med_transparent.png\";\nbeehiveImg.setAttribute(\"id\", \"beehive\");\nbeehiveImg.classList.add(\"hidden\");\ndocument.querySelector(\"body\").appendChild(beehiveImg);\n\nlet announcementRImg = document.createElement(\"img\");\nannouncementRImg.src = \"assets/announcement_r.jpg\";\nannouncementRImg.setAttribute(\"id\", \"announcement-red\");\nannouncementRImg.classList.add(\"hidden\");\ndocument.querySelector(\"body\").appendChild(announcementRImg);\n\nlet announcementGImg = document.createElement(\"img\");\nannouncementGImg.src = \"assets/announcement_g.jpeg\";\nannouncementGImg.setAttribute(\"id\", \"announcement-green\");\nannouncementGImg.classList.add(\"hidden\");\ndocument.querySelector(\"body\").appendChild(announcementGImg);\n\nconst canvasEl = document.getElementsByTagName(\"canvas\")[0];\ncanvasEl.height = GameView.CANVAS_DIM_Y;\ncanvasEl.width = GameView.CANVAS_DIM_X;\n\nconst canvas = document.getElementById(\"game-canvas\");\nconst ctx = canvas.getContext(\"2d\");\n\ndocument.addEventListener(\"DOMContentLoaded\", (event) => {\n  const gv = new GameView(ctx);\n  gv.drawWaitPage();\n  // document.addEventListener(\"click\", (event) => {\n  //   gv.startGame();\n  // });\n  document.addEventListener(\"keydown\", (event) => {\n    if (event.key === \"b\" || event.key === \"B\") {\n      gv.startGame();\n    }\n  });\n});\n"],"names":["scale","vec","m","pointDistance","point1","point2","Math","sqrt","wrap","coord","max","x","bounce","radius","randomPosAroundCenterpoint","centerpoint","distance","correction","posRadius","random","angleInRad","PI","cos","sin","generateHexagonPoints","points","i","xPos","yPos","push","constructor","options","arguments","length","undefined","this","pos","vel","color","game","isBouncy","background","move","timeDelta","velocityScale","offsetX","offsetY","newPos","bouncedPos","Bee","decelerate","draw","ctx","fillStyle","beginPath","arc","drawImage","isCollidedWith","otherObject","Util","remove","Wasp","MovingObject","super","COLOR","RADIUS","deg","SPEED","BOUNCY","document","getElementById","waspFlyLeft","waspFlyRight","waspStingLeft","waspStingRight","spriteFrameCounter","sourcePos","pickFrame","sprite","pickSprite","FRAME_WIDTH","FRAME_HEIGHT","distanceToBee","BEE_STING_DISTANCE","beeToRight","bee","frameH","frameW","floor","stepsPerFrame","_defineProperty","Flower","VEL","CONSTANTS","slide_factor","slider_increase","speed","landed","launched","caught","beehiveLand","pollinating","beeFrameL0","beeFrameL1","beeFrameL2","beeFrameL3","beeFrameR0","beeFrameR1","beeFrameR2","beeFrameR3","beeFrameU0","beeFrameU1","beeFrameU2","beeFrameU3","beeFrameD0","beeFrameD1","beeFrameD2","beeFrameD3","beeLeftFrames","beeRightFrames","beeUpFrames","beeDownFrames","animatedBeeTimer","framesPerAnimation","directions","UP","DOWN","LEFT","RIGHT","landOnBeehive","notLandOnBeehive","notPollinate","pollinate","accelerate","largerVel","abs","scaleFactor","speedStrips","forEach","speedStrip","press","velocity","beehiveSparkles","addBeehiveSparkles","setTrajectory","direction","nudgeFactor","cosA","sinA","newX","START_VEL","newY","drawTrajectory","pointerDirection","arrowPoints","originPos","pointerTipPos","xDistance","yDistance","inverseAngleDeg","atan","pointerLength","newPoints","factor","y","xAdj","yAdj","moveTo","lineTo","closePath","fill","slideScale","drawScale","slider","sliderLocation","rect","launch","nudge","capture","drawAnimatedBee","animationSequence","beeFrameIdx","beeDirection","right","left","up","down","velocityPreLaunch","Beehive","POS","SpeedStrip","unpress","RAND_COLORS","POLLEN_DIST","Pollen","randomColorIdx","pollenTimer","pollenPosition","pollenPos","drawPollen","PERSISTENCE","SPARKLE_DIST","BeehiveSparkle","sparkleTimer","sparklePosition","sparklePos","drawSparkle","beehive","Game","xDim","yDim","score","nonOverlapPos","generateNonOverlapPos","wasps","flowers","pollens","addBee","addBeehive","NUM_WASPS","addWasps","addFlowers","addSpeedStrips","health","waspAttackPoints","flowerHealthPoints","beehiveHealthPoints","clearRect","pattern","createPattern","fillRect","flower","sparkle","wasp","drawHealth","pollen","moveObjects","step","checkCollisions","allNonBeeObjects","concat","object","updateHealth","addPoints","addPollens","gameOver","randomPosition","slice","NUM_SPEEDSTRIPS","newFlower","newSpeedStrip","waspFlag","waspAdj","randomPos","positions","minDistance","NUM_FLOWERS","console","log","spreadOut","splice","indexOf","ceil","scoreTitlePos","font","fillText","strokeStyle","lineWidth","strokeText","LINE_SPACING","LOSE_MSG","WIN_MSG","GameView","announcementR","announcementW","announcementG","wasp1","wasp2","launchMechanic","flyMechanic","highScore","bindKeyHandlers","messageType","WIN","LOSE","key","iKeyHandler","wKeyHandler","sKeyHandler","spaceKeyHandler","aKeyHandler","dKeyHandler","running","pause","drawInstructions","play","lastTime","restart","animationFrameId","cancelAnimationFrame","CANVAS_DIM_X","CANVAS_DIM_Y","time","animate","drawScore","tallyPoints","drawLosePage","drawWinPage","requestAnimationFrame","bind","innerHTML","scorePos","messagePos","message","winMessage","beeLandMsg","scoreMessage","type","messages","drawWaitPage","startGame","classList","add","window","boardbg","createElement","src","setAttribute","querySelector","appendChild","flowerImg","flowerMImg","speedstripImg","speedstripPressedImg","beehiveImg","announcementRImg","announcementGImg","canvasEl","getElementsByTagName","height","width","getContext","addEventListener","event","gv"],"sourceRoot":""}