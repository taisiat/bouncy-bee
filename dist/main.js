!function(){"use strict";!function(){var t=class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pos=t.pos,this.vel=t.vel,this.radius=t.radius,this.color=t.color,this.game=t.game,this.bounces=t.bounces,this.background=t.background}move(){let t=[this.pos[0]+this.vel[0],this.pos[1]+this.vel[1]];if(this.bounces){let e=this.game.bounce(t,this.radius);e[0]!==t[0]&&(this.vel[0]=-this.vel[0]),e[1]!==t[1]&&(this.vel[1]=-this.vel[1]),this.pos=e}else this.pos=this.game.wrap(t);return this.pos}draw(t){const e=t.createPattern(this.background,"repeat");t.fillStyle=e||this.color,t.beginPath(),t.arc(this.pos[0],this.pos[1],this.radius,0,2*Math.PI,!0),t.fill()}isCollidedWith(t){let e=this.pos[0],r=this.pos[1],i=otherObject.pos[0],s=otherObject.pos[1];return this.radius+otherObject.radius>=Math.sqrt((i-e)**2+(s-r)**2)}collideWith(t){}remove(){this.game.remove(this)}};function e(t){const e=2*Math.PI*Math.random();return[(r=[Math.sin(e),Math.cos(e)])[0]*(i=t),r[1]*i];var r,i}function r(t,e){let r=t%e;return r<0&&(r+=e),r}function i(t,e,r){return t<r?r:t>e-r?e-r:t}function s(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class o extends t{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this.color=o.COLOR,this.radius=o.RADIUS,this.vel=e(.5),this.bounces=!0,this.background=document.getElementById("wasp")}}s(o,"RADIUS",40),s(o,"COLOR","red");var n=o;function a(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class l extends t{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.color=l.COLOR,this.radius=l.RADIUS,this.vel=l.VEL,this.pos=t.pos,this.game=t.game,this.bounces=!1,this.background=document.getElementById("flower")}}a(l,"RADIUS",50),a(l,"COLOR","pink"),a(l,"VEL",[0,0]);var u=l;function h(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class c extends t{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this.color=c.COLOR,this.radius=c.RADIUS,this.vel=e(5),this.bounces=!0,this.background=document.getElementById("bee")}}h(c,"RADIUS",40),h(c,"COLOR","yellow");var d=c;function p(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class m extends t{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.color=m.COLOR,this.radius=m.RADIUS,this.vel=m.VEL,this.pos=m.POS,this.game=t.game,this.bounces=!1,this.background=document.getElementById("beehive")}}p(m,"RADIUS",80),p(m,"COLOR","white"),p(m,"VEL",[0,0]),p(m,"POS",[80,300]);var v=m;function f(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class b extends t{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.color=b.COLOR,this.radius=b.RADIUS,this.vel=b.VEL,this.pos=t.pos,this.game=t.game,this.bounces=!1,this.background=document.getElementById("speedstrip")}}f(b,"RADIUS",30),f(b,"COLOR","black"),f(b,"VEL",[0,0]);var g=b;function w(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class S{constructor(){for(this.wasps=[],this.flowers=[],this.speedStrips=[],this.bee=this.addBee(),this.beehive=this.addBeehive(),this.background=document.getElementById("grass");this.wasps.length<S.NUM_WASPS;)this.wasps.push(this.addWasps());for(;this.flowers.length<S.NUM_FLOWERS;)this.flowers.push(this.addFlowers());for(;this.speedStrips.length<S.NUM_SPEEDSTRIPS;)this.speedStrips.push(this.addSpeedStrips())}draw(t){t.clearRect(0,0,S.DIM_X,S.DIM_Y);const e=t.createPattern(this.background,"repeat");t.fillStyle=e,t.fillRect(0,0,S.DIM_X,S.DIM_Y),this.flowers.forEach((e=>e.draw(t))),this.beehive.draw(t),this.speedStrips.forEach((e=>e.draw(t))),this.wasps.forEach((e=>e.draw(t))),this.bee.draw(t)}moveObjects(){this.wasps.forEach((t=>t.move())),this.bee.move()}wrap(t){return[r(t[0],S.DIM_X),r(t[1],S.DIM_Y)]}bounce(t,e){return[i(t[0],S.DIM_X,e),i(t[1],S.DIM_Y,e)]}isAtEdge(t,e){let r=t[0],i=t[1];return r===e||i===e||r===S.DIM_X-e||i===S.DIM_Y-e}step(){this.moveObjects()}allNonBeeObjects(){return[].concat(this.flowers,[this.beehive],this.speedStrips,this.wasps)}checkCollisions(){const t=this.allNonBeeObjects();for(let e=0;e<t.length;e++)if(t[e].isCollidedWith(this.bee)&&obj1.collideWith(obj2))return}addWasps(){return new n({pos:this.randomPosition(),game:this})}addFlowers(){return new u({pos:this.randomPosition(),game:this})}addBee(){return new d({pos:[200,300],game:this})}addBeehive(){return new v({pos:[100,300],game:this})}addSpeedStrips(){return new g({pos:this.randomPosition(),game:this})}randomPosition(){return[Math.floor(Math.random()*(.75*S.DIM_X)+.25*S.DIM_X),Math.floor(Math.random()*S.DIM_Y)]}remove(t){t instanceof n&&this.wasps.splice(this.wasps.indexOf(t),1)}}w(S,"DIM_X",1200),w(S,"DIM_Y",600),w(S,"NUM_WASPS",3),w(S,"NUM_FLOWERS",10),w(S,"NUM_SPEEDSTRIPS",2);var y=S,I=class{constructor(t){this.game=new y,this.ctx=t}start(){setInterval((()=>{this.game.step(),this.game.draw(this.ctx)}),20)}};window.MovingObject=t,window.GameView=I,window.Game=y,window.Bee=d,window.Wasp=n,window.Flower=u,window.Beehive=v,window.SpeedStrip=g;let O=document.createElement("img");O.src="assets/grass_smallest.jpeg",O.setAttribute("id","boardbg");const P=document.getElementsByTagName("canvas")[0];P.height=y.DIM_Y,P.width=y.DIM_X,new I(document.getElementById("game-canvas").getContext("2d")).start()}()}();
//# sourceMappingURL=main.js.map